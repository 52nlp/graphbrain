{% extends 'base.html' %}
{% block title %}GraphBrain{% endblock %}
{% block js %}
<script src="/static/js/jquery-1.3.2.min.js" type="text/javascript" ></script>
<script src="/static/js/jquery-ui-1.7.3.custom.min.js" type="text/javascript" ></script>
<script src="/static/js/graph210911.js" type="text/javascript" ></script>
{% endblock %}

{% block content %}
<table width="100%" border="0">
<tr valign="top" align="center">
<td colspan="3">
<img src="images/GB_logo_M.png" alt="graphbrain"/>
</td>
</tr>



<tr>
<td style="width:1px;textalign:top">
</td>
<td style="textalign:center">
<div id="main">
    <div id="topDiv">
        <div id="topBar">
            <a href="/logout"><big>Logout</big></a> |
            <a href="/createbrain"><big>Create Brain</big></a> |
            <big>Brains:</big>
            <form action="/selbrain" method="post" id="selbrainForm">
                <select name="brainDropDown" onChange="this.form.submit()">
                    {% for g in graphs %}
                        <option value="{{ g.root }}" {% if g.id == graph_id %}selected{% endif %}>{{ g.name }}</option>
                    {% endfor %}
                </select>
            </form>
        </div>
        <div id="inputDiv">
            <form action="/input" method="post" id="inputForm">
                <input type="text" name="input" id="inputField" size="60"/>
                <input type="hidden" name="graph_id" value="{{ graph_id }}">
            </form>
            <a href="/help">Help, what should I write here?</a>
        </div>
    </div>

</td>
<td style="width:1px;textalign:top">
</td>
</tr>

<tr>
<td style="width:1px;textalign:top">
</td>
<td style="textalign:top">
<canvas id="graphCanvas">
        Sorry, your browser does not support canvas.
    </canvas>

    <div id="nodesDiv" />
</div>

<form action="/delink" method="post" id="delinkForm">
    <input type="hidden" name="link_id">
</form>



<script language="javascript">

var nodes =  {{ nodes_json|safe }};
var links = {{ links_json|safe }};

initGraph(nodes, links);
</script>

</td>
<td style="width:1px;textalign:top">
</td>
</tr>
</table>

{% endblock %}