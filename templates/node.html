{% extends 'base.html' %}
{% block title %}GraphBrain{% endblock %}
{% block js %}
<script src="/static/js/jquery-1.3.2.min.js" type="text/javascript" ></script>
<script src="/static/js/jquery-ui-1.7.3.custom.min.js" type="text/javascript" ></script>
<script src="/static/js/graph210911.js" type="text/javascript" ></script>
{% endblock %}

{% block top_centre %}
<form action="/input" method="post" id="inputForm">
    <input type="text" name="input" id="inputField" size="60"/>
    <input type="hidden" name="graph_id" value="{{ graph_id }}">
    <input type="hidden" name="node_id" value="{{ node_id }}">
</form>
<a href="/help">Help, what should I write here?</a>
{% endblock %}

{% block top_right %}
<a href="/logout">Logout</a> |
<a href="/createbrain">Create Brain</a> <br />
<form action="/selbrain" method="post" id="selbrainForm">
    <select name="brainDropDown" onChange="this.form.submit()">
        {% for g in graphs %}
            <option value="{{ g.root }}" {% if g.id == graph_id %}selected{% endif %}>{{ g.name }}</option>
        {% endfor %}
    </select>
</form>
{% endblock %}
        
{% block content %}
<canvas id="graphCanvas">
    Sorry, your browser does not support canvas.
</canvas>

<div id="nodesDiv" />

<form action="/delink" method="post" id="delinkForm">
    <input type="hidden" name="link_id">
</form>

<script language="javascript">

var nodes =  {{ nodes_json|safe }};
var links = {{ links_json|safe }};

initGraph(nodes, links);
</script>

{% endblock %}
